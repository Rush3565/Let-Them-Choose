{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SpeakOut(){const[stories,setStories]=useState([]);const[formData,setFormData]=useState({name:\"\",message:\"\"});useEffect(()=>{fetch(\"http://localhost:5000/api/speakout\").then(res=>res.json()).then(data=>{if(Array.isArray(data)){setStories(data);}else{console.error(\"Fetched data is not an array:\",data);setStories([]);}}).catch(err=>{console.error(\"Failed to fetch stories:\",err);setStories([]);});},[]);const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=e=>{e.preventDefault();if(formData.name.trim()&&formData.message.trim()){fetch(\"http://localhost:5000/api/speakout\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)}).then(res=>res.json()).then(newStory=>{setStories([newStory,...stories]);setFormData({name:\"\",message:\"\"});}).catch(err=>console.error(\"Failed to submit story:\",err));}};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-900 min-h-screen py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto p-10 bg-gray-800 rounded-3xl shadow-2xl\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold mb-6 text-center text-yellow-400 drop-shadow-lg\",children:\"Speak Out\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-8 text-center text-yellow-300\",children:\"Share your story or opinion about the importance of letting children choose their own path.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"mb-10 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"block mb-2 font-semibold text-yellow-300\",children:\"Your Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleChange,className:\"w-full p-3 border border-yellow-400 rounded-md bg-gray-900 text-yellow-300\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",className:\"block mb-2 font-semibold text-yellow-300\",children:\"Your Story / Opinion\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",name:\"message\",value:formData.message,onChange:handleChange,rows:\"6\",className:\"w-full p-3 border border-yellow-400 rounded-md bg-gray-900 text-yellow-300\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-yellow-400 text-gray-900 px-8 py-3 rounded-md font-semibold hover:bg-yellow-500 transition\",children:\"Submit\"})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-semibold mb-6 text-yellow-400\",children:\"Shared Stories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-8\",children:stories.map(story=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border border-yellow-400 rounded-3xl bg-gray-900 text-yellow-300\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"italic mb-4\",children:[\"\\\"\",story.message,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-right\",children:[\"- \",story.name]})]},story._id))})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","SpeakOut","stories","setStories","formData","setFormData","name","message","fetch","then","res","json","data","Array","isArray","console","error","catch","err","handleChange","e","target","value","handleSubmit","preventDefault","trim","method","headers","body","JSON","stringify","newStory","className","children","onSubmit","htmlFor","type","id","onChange","required","rows","map","story","_id"],"sources":["C:/Users/kazir/Desktop/web/let-them-choose-full/client/src/pages/SpeakOut.js"],"sourcesContent":["\nimport React, { useState, useEffect } from \"react\";\n\nexport default function SpeakOut() {\n  const [stories, setStories] = useState([]);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    message: \"\",\n  });\n\n  useEffect(() => {\n    fetch(\"http://localhost:5000/api/speakout\")\n      .then((res) => res.json())\n      .then((data) => {\n        if (Array.isArray(data)) {\n          setStories(data);\n        } else {\n          console.error(\"Fetched data is not an array:\", data);\n          setStories([]);\n        }\n      })\n      .catch((err) => {\n        console.error(\"Failed to fetch stories:\", err);\n        setStories([]);\n      });\n  }, []);\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (formData.name.trim() && formData.message.trim()) {\n      fetch(\"http://localhost:5000/api/speakout\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      })\n        .then((res) => res.json())\n        .then((newStory) => {\n          setStories([newStory, ...stories]);\n          setFormData({ name: \"\", message: \"\" });\n        })\n        .catch((err) => console.error(\"Failed to submit story:\", err));\n    }\n  };\n\n  return (\n    <div className=\"bg-gray-900 min-h-screen py-12\">\n      <div className=\"max-w-7xl mx-auto p-10 bg-gray-800 rounded-3xl shadow-2xl\">\n        <h1 className=\"text-4xl font-extrabold mb-6 text-center text-yellow-400 drop-shadow-lg\">\n          Speak Out\n        </h1>\n        <p className=\"mb-8 text-center text-yellow-300\">\n          Share your story or opinion about the importance of letting children choose their own path.\n        </p>\n        <form onSubmit={handleSubmit} className=\"mb-10 space-y-6\">\n          <div>\n            <label htmlFor=\"name\" className=\"block mb-2 font-semibold text-yellow-300\">\n              Your Name\n            </label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              name=\"name\"\n              value={formData.name}\n              onChange={handleChange}\n              className=\"w-full p-3 border border-yellow-400 rounded-md bg-gray-900 text-yellow-300\"\n              required\n            />\n          </div>\n          <div>\n            <label htmlFor=\"message\" className=\"block mb-2 font-semibold text-yellow-300\">\n              Your Story / Opinion\n            </label>\n            <textarea\n              id=\"message\"\n              name=\"message\"\n              value={formData.message}\n              onChange={handleChange}\n              rows=\"6\"\n              className=\"w-full p-3 border border-yellow-400 rounded-md bg-gray-900 text-yellow-300\"\n              required\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"bg-yellow-400 text-gray-900 px-8 py-3 rounded-md font-semibold hover:bg-yellow-500 transition\"\n          >\n            Submit\n          </button>\n        </form>\n        <section>\n          <h2 className=\"text-3xl font-semibold mb-6 text-yellow-400\">Shared Stories</h2>\n          <div className=\"space-y-8\">\n          {stories.map((story) => (\n            <div\n              key={story._id}\n              className=\"p-6 border border-yellow-400 rounded-3xl bg-gray-900 text-yellow-300\"\n            >\n              <p className=\"italic mb-4\">\"{story.message}\"</p>\n              <p className=\"font-semibold text-right\">- {story.name}</p>\n            </div>\n          ))}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}